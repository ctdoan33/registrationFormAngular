<h1>Registration</h1>
<div *ngIf="registered" [ngClass]="{'bordered':true, 'confirmation':true}">
	<p>Thank you for registering with us {{last_user.first_name}}. We just sent you a confirmation email at <a href="mailto:{{last_user.email}}">{{last_user.email}}</a>, and we will send all mail to {{last_user.street_address}}<span *ngIf="last_user.unit.length"> {{last_user.unit}}</span>, {{last_user.city}} {{last_user.state}}</p>
	<p>Have a wonderful day!</p>
</div>
<form (submit)="onSubmit()" #formData='ngForm'>
	<table>
		<tbody [ngClass]="{'bordered':true}">
			<h2>Account Information</h2>
			<tr>
				<td [ngClass]="{'label':true}"><label for="first_name">*First Name:</label></td>
				<td><input type="text" id="first_name" name="first_name" required [(ngModel)]="user.first_name" #first_name="ngModel"></td>
				<td *ngIf="first_name.invalid" [ngClass]="{'error':true}">First name is required.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="last_name">*Last Name:</label></td>
				<td><input type="text" id="last_name" name="last_name" required [(ngModel)]="user.last_name" #last_name="ngModel"></td>
				<td *ngIf="last_name.invalid" [ngClass]="{'error':true}">Last name is required.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="email">*Email:</label></td>
				<td><input type="text" id="email" name="email" required pattern="[a-zA-Z0-9.+_-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]+" [(ngModel)]="user.email" #email="ngModel"></td>
				<td *ngIf="email.invalid" [ngClass]="{'error':true}">Email must be valid.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="password">*Password:</label></td>
				<td><input type="password" id="password" name="password" required minlength="16" [(ngModel)]="user.password" #password="ngModel"></td>
				<td *ngIf="password.invalid" [ngClass]="{'error':true}">Password must be at least 16 characters long.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="password_confirmation">*Password Confirmation:</label></td>
				<td><input type="password" id="password_confirmation" name="password_confirmation" required minlength="16" [(ngModel)]="user.password_confirmation"></td>
				<td *ngIf="user.password!=user.password_confirmation" [ngClass]="{'error':true}">Password Confirmation must match Password.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="street_address">*Street Address:</label></td>
				<td><input type="text" id="street_address" name="street_address" required [(ngModel)]="user.street_address" #street_address="ngModel"></td>
				<td *ngIf="street_address.invalid" [ngClass]="{'error':true}">Address is required.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="unit">Unit/Apt#:</label></td>
				<td><input type="text" id="unit" name="unit" [(ngModel)]="user.unit" #unit="ngModel"></td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="city">*City:</label></td>
				<td><input type="text" id="city" name="city" required [(ngModel)]="user.city" #city="ngModel"></td>
				<td *ngIf="city.invalid" [ngClass]="{'error':true}">City is required.</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label for="state">*State:</label></td>
				<td>
					<select type="text" id="state" name="state" required [(ngModel)]="user.state" #state="ngModel">
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
					</select>
				</td>
			</tr>
			<tr>
				<td [ngClass]="{'label':true}"><label>*I'm feeling lucky:</label></td>
				<td>
					<input type="radio" name="lucky" required [(ngModel)]="user.lucky" #lucky="ngModel" value="Yes">Yes
					<input type="radio" name="lucky" required [(ngModel)]="user.lucky" #lucky="ngModel" value="No">No
				</td>
				<td *ngIf="lucky.invalid" [ngClass]="{'error':true}">Choosing how you feel is required.</td>
			</tr>
		</tbody>
		<input type="submit" [disabled]="formData.invalid || user.password!=user.password_confirmation"  [ngClass]="{'bordered':true, 'submit':true}" value="Register">
	</table>
</form>